<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE TS OPTIMIZER</title>
    <link th:href="@{/css/normalize.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/common.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/style_task_add_info.css}" rel="stylesheet" type="text/css">
</head>

<body>
    <header class="top-image-area" th:include="/common.html::body-header">
    </header>
    <main>
        <div class="titlebar-container">
            <div class="titlebar">
                <h1 class="title">タスク追加・削除</h1>
            </div>
        </div>
        <div>
            <!-- main field -->
            <div class="main-area">
                <!-- 機能説明 -->
                <article>
                    <h1>Description</h1>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quo, aut perferendis delectus explicabo
                        nisi perspiciatis
                        temporibus. Assumenda at alias ut illo modi, velit, iure magnam, earum eveniet placeat rem
                        veritatis.</p>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quo, aut perferendis delectus explicabo
                        nisi perspiciatis
                        temporibus. Assumenda at alias ut illo modi, velit, iure magnam, earum eveniet placeat rem
                        veritatis.</p>
                </article>

                <!-- ここから機能部分 基本的にはここだけ修正する。その他は共通 -->
                <div>
                    <!-- タイトル -->
                    <div>
                        <h1>◼️追加したいタスクを入力してください。</h1>
                    </div>
                    <!-- リスト -->
                    <div>
                        <p style="margin-bottom:1em;"></p>
                    </div>
                    <!-- フォーム入力箇所 -->
                    <div>
                        <form th:object="${taskForm}" th:action="@{'/task'}" method="post">
                            <ul>
                                <li class="task-code">タスクコード：
                                    <select th:field="*{projectId}">
                                        <option th:each="project : ${currentProjectList}" th:value="${project.id}">
                                            [[${project.code}]] : [[${project.name}]]
                                        </option>
                                    </select> ＿
                                    <input type="text" th:field="*{projectCodeId}"><a> 例) SSS_100, JJJ_555</a>
                                </li>
                                <li class="charge-code">チャージコード：
                                    <select th:field="*{chargeId}">
                                        <option th:each="charge : ${currentChargeList}" th:value="${charge.id}">
                                            [[${charge.code}]] : [[${charge.name}]]
                                        </option>
                                    </select>
                                </li>
                                <li class="task-name">タスク名：
                                    <input type="text" th:field="*{detail}"><a> 例) ドメイン変更対応</a>
                                </li>
                                <li class="deadline">期日：
                                    <select th:field="*{year}">
                                        <option th:each="code : ${codeList}" th:if="${code.genre == 'year'}"
                                            th:value="${code.code}">[[${code.name}]]
                                        </option>
                                    </select><a class="date"> 年 </a>
                                    <select th:field="*{month}">
                                        <option th:each="code : ${codeList}" th:if="${code.genre == 'month'}"
                                            th:value="${code.code}">[[${code.name}]]
                                        </option>
                                    </select><a class="date"> 月 </a>
                                    <select th:field="*{day}">
                                        <option th:each="code : ${codeList}" th:if="${code.genre == 'day'}"
                                            th:value="${code.code}">[[${code.name}]]
                                        </option>
                                    </select><a class="date"> 日 </a>
                                </li>
                                <p style="margin-bottom:1em;"></p>
                                <li class="status">ステータス：
                                    <select th:field="*{status}">
                                        <option th:each="code : ${codeList}" th:if="${code.genre == 'status'}"
                                            th:value="${code.name}">[[${code.name}]]
                                        </option>
                                    </select>
                                </li>
                                <p style="margin-bottom:1em;"></p>
                                <li class="progress">進捗(%)：
                                    <select th:field="*{progressRate}">
                                        <option th:each="code : ${codeList}" th:if="${code.genre == 'progress_rt'}"
                                            th:value="${code.name}">[[${code.name}]]
                                        </option>
                                    </select>
                                </li>
                                <p style="margin-bottom:1em;"></p>
                            </ul>
                            <p style="margin-bottom:1em;"></p>
                            <p>
                                <input type="submit" value="追加">
                                <input type="reset" value="リセット">
                            </p>
                        </form>
                    </div>
                    <!-- すでに登録済みのプロジェクト情報を表示させる -->
                    <div>
                        <p style="margin-bottom:1em;"></p>
                    </div>
                    <div>
                        <h1>◼️すでに登録済みのタスク一覧</h1>
                        <p style="margin-bottom:1em;"></p>
                        <div>
                            <ul>
                                <li th:each="task : ${currentTaskList}"
                                    th:text="|${task.code}, ${task.chargeCode.code}, ${task.detail}|">
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- left side menu -->
            <div class="left-navi" th:include="/common.html::left-navi">
            </div>
        </div>
    </main>

    <div class="footer" th:include="/common.html::footer">
        <small>Copyright© 2020-2021 SHOHEI TOKUMARU All Rights Reserved.</small>
    </div>
</body>
</html>